```
@str; @rex;@case

@ret:=0
@pos:=1
while @pos <= len(@str) do [
	@a:=regexpfind(@str,@pos,@rex,@case)
	if @a < 0 then [
		goto end
	]
	else if @a = 0 then [
		@ret:=-1
		goto end
	]
	else [
		@ret[1]:=@ret[1]+1
		@ret(-1):=@a[1]
		@ret(-1):=@a[2]
		@pos:=@a[1]+@a[2]
	]	
]

end:
```
